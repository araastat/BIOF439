(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"2tVM":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.formatSrc=void 0;var a=r(n("J4zp"));t.formatSrc=function(e){var t=e.params,n=e.host,r=e.productCode,o=new URL(t.redirect_uri),i=r;o.searchParams.append("product_code",i);var l=t.client_id||"unknown-client",s=t.asset,u=t.display,c=void 0===u?"default":u,d=t.campaign_id,f=t.application,p={response_type:"cookie",redirect_uri:o.toString(),client_id:l,display:c,asset:s,campaign_id:d,application:f},m=new URL("".concat(n,"/auth/validate-regi"));return Object.entries(p).filter((function(e){return(0,a.default)(e,2)[1]})).forEach((function(e){var t=(0,a.default)(e,2),n=t[0],r=t[1];return m.searchParams.append(n,r)})),m.toString()}},"4LjT":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.subscribeAnonymousQuery=t.subscribeQuery=t.userQuery=void 0;var a=r(n("lSNA"));function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=JSON.stringify({operationName:"UserQuery",variables:{},query:"\n  query UserQuery {\n    user {\n      __typename\n      profile {\n        displayName\n        email\n      }\n      newsletterSubscriptions {\n        newsletterCodes\n      }\n    }\n  }"});t.userQuery=l;t.subscribeQuery=function(e,t){return JSON.stringify({operationName:"subToNewsletters",variables:{input:i({newsletterCodes:[e]},t||{})},query:"\n  mutation subToNewsletters($input: CreateNoCaptchaNewsletterSubscriptionInput!) {\n    createNoCaptchaNewsletterSubscription(input: $input) {\n      message\n    }\n  }\n"})};t.subscribeAnonymousQuery=function(e,t){var n=null!=t&&t.signupFormVersion?"".concat(t.signupFormVersion):"newsletter_updates_v1",r=i(i({clientMutationId:"0"},t),{},{signupFormVersion:n});return JSON.stringify({operationName:"CreateNewsletterSubscriptionInput",variables:{newsletterInput:i({newsletterCodes:[e]},r)},query:"\n  mutation CreateNewsletterSubscriptionInput($newsletterInput: CreateNewsletterSubscriptionInput!) {\n    createNewsletterSubscription(input: $newsletterInput) {\n      clientMutationId\n      userErrors\n      __typename\n    }\n  }"})}},"4sK8":function(e,t,n){"use strict";var r=n("TqRt"),a=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n("q1tI")),i=r(n("17x9")),l=n("pLua"),s=r(n("n2O/")),u=r(n("v6H6")),c=r(n("vAq/")),d=r(n("WkTM")),f=r(n("XjL+"));function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}i.default.shape,i.default.string,i.default.bool,i.default.func;var m=function(e){var t=e.state,n=e.handlers,r=t.isOpen,a=t.view,i=t.isLoading,p=t.validProductCode,m=n.handleLoggedInButtonClick,v=n.handleNewsletterSignup,h=n.handleAnonymousNewsletterSignup,y=n.handleClose,g=n.handleModalButtonClick,b=(0,l.useEmailSignupContext)(),w=b.showConfirmationMessage,C=b.showAlreadySubscribedMessage,O=b.shouldReturnFocus,x=(0,o.useRef)();(0,o.useEffect)((function(){x.current=a}));var k=x.current,P=o.default.createElement(f.default,{validProductCode:p,isOpen:r,handleClose:y,handleNewsletterSignup:v,handleAnonymousNewsletterSignup:h,buttonClick:g});switch(a){case"alreadySubscribed":return C?o.default.createElement(c.default,null):o.default.createElement("div",null);case"confirmation":return"loggedOutModal"===k&&!w&&O?P:w?o.default.createElement(u.default,null):o.default.createElement("div",null);case"loggedIn":return o.default.createElement(s.default,{buttonClick:m,isLoading:i});case"loggedOut":return o.default.createElement(d.default,{validProductCode:p,handleNewsletterSignup:v,handleAnonymousNewsletterSignup:h});case"loggedOutModal":return P;default:return o.default.createElement("div",null)}};t.default=m},"5ugd":function(e,t,n){"use strict";var r=n("TqRt"),a=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("lwsE")),i=r(n("W8MJ")),l=r(n("7W2i")),s=r(n("a1gu")),u=r(n("Nsbk")),c=b(n("q1tI")),d=r(n("17x9")),f=n("Jqp9"),p=r(n("9rZX")),m=r(n("wXC7")),v=r(n("aanX")),h=b(n("sj7d")),y=n("w6U+");function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function b(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var a=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}d.default.func,d.default.node,d.default.string,d.default.shape,d.default.bool;var C=function(e){(0,l.default)(n,e);var t=w(n);function n(){var e;(0,o.default)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).targetElement=null,e}return(0,i.default)(n,[{key:"componentDidMount",value:function(){p.default.setAppElement("body"),this.targetElement=document.querySelector("#sharedui-modal")}},{key:"componentWillUnmount",value:function(){(0,y.clearAllBodyScrollLocks)()}},{key:"componentDidUpdate",value:function(e){var t=this.props.isOpen;e.isOpen!==t&&(t?(0,y.disableBodyScroll)(this.targetElement):(0,y.enableBodyScroll)(this.targetElement))}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.isOpen,r=e.handleClose,a=e.onAfterOpen,o=e.overlayClassName,i=e.className,l=e.dismissClassName,s=e.contentLabel,u=e.role,d=e.shouldFocusAfterRender,y=e.shouldCloseOnOverlayClick,g=e.shouldCloseOnEsc,b=e.shouldReturnFocusAfterClose,w=e.aria,C=e.overlayRef,O=e.contentRef,x=e.closeIconStroke;return c.default.createElement(p.default,{id:"sharedui-modal",isOpen:n,overlayClassName:(0,f.cx)(h.overlayClass,o),className:(0,f.cx)(h.modalClass,i),bodyOpenClassName:h.bodyOpenClass,onAfterOpen:a,onRequestClose:r,contentLabel:s,role:u,shouldFocusAfterRender:d,shouldCloseOnOverlayClick:y,shouldCloseOnEsc:g,shouldReturnFocusAfterClose:b,aria:w,overlayRef:C,contentRef:O,ariaHideApp:!0},t,c.default.createElement("button",{type:"button",className:(0,f.cx)(h.dismissClass,l),onClick:r},c.default.createElement("i",{className:h.dismissIconClass},c.default.createElement(v.default,{stroke:x}),c.default.createElement("span",{className:m.default.a11y.visuallyHidden},"Close Modal"))))}}]),n}(c.Component);C.displayName="Modal",C.defaultProps={onAfterOpen:function(){},overlayClassName:void 0,className:void 0,dismissClassName:void 0,contentLabel:"",role:"dialog",shouldFocusAfterRender:!0,shouldCloseOnOverlayClick:!0,shouldCloseOnEsc:!0,shouldReturnFocusAfterClose:!0,aria:{},overlayRef:function(){},contentRef:function(){},closeIconStroke:"#555"};var O=C;t.default=O},CQ4Z:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.user=function(){return u(i.userQuery)},t.subscribe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return u((0,i.subscribeQuery)(e,t))},t.subscribeAnonymous=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return u((0,i.subscribeAnonymousQuery)(e,t))};var a=r(n("lSNA")),o=n("bEF1"),i=n("4LjT");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e){var t=function(){if("undefined"!=typeof window&&window.__preloadedData){var e,t=window.__preloadedData.config,n=(null===(e=window)||void 0===e?void 0:e.location).hostname;return s(s({},t),{},{hostname:n})}return{}}(),n=t.gqlUrlClient,r=t.gqlRequestHeaders,a=t.hostname;return"undefined"!=typeof fetch&&n&&r?fetch(n,{method:"POST",credentials:"include",mode:(0,o.isNYTDomain)(a)?"cors":"no-cors",headers:r,body:e}).then((function(e){var t=e.ok;return"opaque"===e.type?e:t?e.json():Promise.reject(new Error(e.statusText))})):Promise.resolve({})}},J8sp:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n("lSNA")),o=r(n("lwsE")),i=r(n("W8MJ")),l=r(n("7W2i")),s=r(n("a1gu")),u=r(n("Nsbk")),c=r(n("q1tI"));r(n("17x9"));function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var a=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var m=function(e){(0,l.default)(n,e);var t=p(n);function n(){var e;(0,o.default)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={exiting:!1,exited:!1,entered:!1,entering:!1},e.finishEnter=function(){e.setState({entered:!0,entering:!1}),"function"==typeof e.props.onEntered&&e.props.onEntered()},e.handleEnter=function(){var t=e.props.enterDuration;e.enterTimer&&clearTimeout(e.enterTimer),e.enterTimer=setTimeout(e.finishEnter,t)},e.finishExit=function(){e.setState({exited:!0,exiting:!1,entered:!1}),"function"==typeof e.props.onExited&&e.props.onExited()},e.handleExit=function(){var t=e.props.exitDuration;setTimeout(e.finishExit,t)},e}return(0,i.default)(n,[{key:"componentDidMount",value:function(){this.props.visible&&this.handleEnter()}},{key:"componentDidUpdate",value:function(e){!e.visible&&this.props.visible&&this.handleEnter(),e.visible&&!this.props.visible&&this.handleExit()}},{key:"render",value:function(){var e=this.state,t=e.exited,n=e.exiting,r=this.props.visible;return t||!r&&!n?null:this.props.children(this.state)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.visible||!t.entering&&!t.entered?e.visible&&!t.entered?f(f({},t),{},{entering:!0,exiting:!1,exited:!1}):t:f(f({},t),{},{exiting:!0})}}]),n}(c.default.PureComponent);m.defaultProps={onExited:null,onEntered:null,exitDuration:500,enterDuration:500},m.displayName="Transition";var v=m;t.default=v},KgTy:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.summaryClass=t.dismissClass=t.modalClass=t.overlayClass=void 0;var a=n("Jqp9"),o=r(n("wXC7")),i=(0,a.css)("display:block;position:fixed;box-sizing:border-box;top:0;right:0;bottom:0;left:0;width:100%;height:100%;z-index:",o.default.zIndex.overlay,";background-color:rgba(0,0,0,0.5);opacity:1;");t.overlayClass=i;var l=(0,a.css)("text-align:center;position:fixed;top:0;left:0;right:0;bottom:0;overflow:auto;width:unset;padding:32px 20px 40px;box-shadow:none;border-radius:0;background-color:",o.default.color.white,";font-family:",o.default.font.franklinBase,";-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;color:",o.default.color.black,";z-index:",o.default.zIndex.interstitialModal,";",o.default.breakpoint.small,"{width:450px;left:50%;top:50%;border-radius:3px;box-shadow:0 0 8px rgba(0,0,0,0.2);right:unset;bottom:unset;transform:translate(-50%,-50%);margin:0 auto;overflow:unset;position:absolute;padding:32px 30px 40px 30px;}");t.modalClass=l;var s=(0,a.css)("position:absolute;top:1px;right:0;padding:16px;cursor:pointer;background-color:",o.default.color.white,";");t.dismissClass=s;var u=(0,a.css)("display:block;font-family:",o.default.font.serifMedium,";font-size:",o.default.font.size(24),";line-height:26px;text-align:center;color:",o.default.color.gray20,";font-style:normal;margin-bottom:10px;padding:0 16px;");t.summaryClass=u},MlQP:function(e,t,n){"use strict";var r=n("TqRt"),a=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("lSNA")),i=r(n("lwsE")),l=r(n("W8MJ")),s=r(n("7W2i")),u=r(n("a1gu")),c=r(n("Nsbk")),d=k(n("q1tI")),f=r(n("17x9")),p=n("Jqp9"),m=r(n("aqT/")),v=n("pLua"),h=n("CQ4Z"),y=n("whae"),g=n("bEF1"),b=k(n("qQ7Q")),w=r(n("4sK8")),C=r(n("fmmm")),O=n("aY7P");function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(x=function(e){return e?n:t})(e)}function k(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=x(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var a=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}f.default.func,f.default.string,f.default.shape,f.default.oneOf,f.default.bool;var j=function(e){(0,s.default)(n,e);var t=S(n);function n(){var e;(0,i.default)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={isOpen:!1,isLoading:!1,view:void 0,appearedInViewport:!1,validProductCode:(0,g.isValidNewsletterCode)(e.props.productCode)},e.wrapperRef=d.default.createRef?d.default.createRef():null,e.setCaptchaRef=function(t){e.captcha=t},e.onVisibilityChange=function(t){t&&e.setState({appearedInViewport:!0})},e}return(0,l.default)(n,[{key:"componentDidMount",value:function(){var e=this;this.wrapperRef&&(this.wrapper=this.wrapperRef.current);var t=this.props,n=t.env,r=t.type,a=t.onIsSubscribed,o=t.onIsNotSubscribed,i=t.productCode,l=t.disableUserQuery,s=t.enableAutoSubscribe,u=t.lireProps.params,c=u.client_id,d=u.campaign_id,f=this.state.validProductCode;if((0,g.checkToSubscribeRedirectedUser)(n,this.wrapper,i,(function(){return e.handleNewsletterSignup()}),(function(t,n){return e.handleAnonymousNewsletterSignup(t,n)})),s&&(0,g.handleAutoSubscribe)(i,r,(function(){return e.handleNewsletterSignup()}),(function(){return e.handleModalButtonClick()})),!f)throw(0,y.trackInvalidNewsletterCode)({clientId:c,campaignId:d,productCode:i}),new Error("Invalid Newsletter Product Code",i);l?this.setDisabledUserQueryState(r):this.checkUserStatus({productCode:i,onIsSubscribed:a,onIsNotSubscribed:o,type:r})}},{key:"componentDidUpdate",value:function(e,t){var n=this.state.appearedInViewport;if(n!==t.appearedInViewport){var r=this.props,a=r.productCode,o=r.trackingProps,i=o.placement,l=o.algos,s=r.disableBaseTracking,u=r.lireProps.params,c=u.client_id,d=u.campaign_id;!s&&n&&(0,y.trackImpression)({clientId:c,campaignId:d,productCode:a,placement:i,algos:l})}}},{key:"setDisabledUserQueryState",value:function(e){var t=(0,g.hasNYTSCookie)()?"loggedIn":(0,g.getLoggedOutView)(e);this.setState({view:t})}},{key:"checkUserStatus",value:function(e){var t=this,n=e.productCode,r=e.onIsSubscribed,a=e.onIsNotSubscribed,o=e.type;(0,h.user)().then((function(e){var i=e.data,l=(0,g.getViewFromUser)({data:i,productCode:n,onIsSubscribed:r,onIsNotSubscribed:a,type:o});t.setState({view:l})})).catch((function(e){console.error(e)}))}},{key:"handleAnonymousNewsletterSignup",value:function(e,t){var n=this,r=this.props,a=r.onSuccess,i=r.productCode,l=r.disableBaseTracking,s=r.trackingProps,u=s.placement,c=s.algos,d=r.lireProps.params,f=d.client_id,p=d.campaign_id,m=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({userCaptchaToken:e,userEmail:t},r.subscriptionQueryOptions);(0,h.subscribeAnonymous)(i,m).then((function(e){n.setState({isOpen:!1,view:"confirmation"}),l||(0,y.trackSubscribe)({clientId:f,campaignId:p,productCode:i,placement:u,algos:c}),a&&a(e)}))}},{key:"handleNewsletterSignup",value:function(){var e=this,t=this.props,n=t.onSuccess,r=t.productCode,a=t.disableBaseTracking,o=t.trackingProps,i=o.placement,l=o.algos,s=t.lireProps.params,u=s.client_id,c=s.campaign_id,d=t.subscriptionQueryOptions;(0,h.subscribe)(r,d).then((function(t){e.setState({isOpen:!1,view:"confirmation"}),a||(0,y.trackSubscribe)({clientId:u,campaignId:c,productCode:r,placement:i,algos:l}),n&&n(t)}))}},{key:"handleModalButtonClick",value:function(){var e=this.props.onClick;this.setState({isOpen:!0}),e&&e()}},{key:"handleClose",value:function(){this.setState({isOpen:!1})}},{key:"handleLoggedInButtonClick",value:function(){var e=this.props,t=e.onClick,n=e.onLoading;n&&n(),this.setState({isLoading:!0}),this.handleNewsletterSignup(),t&&t()}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.productCode,a=n.heading,i=n.summary,l=n.buttonText,s=n.confirmationMessage,u=n.alreadySubscribedMessage,c=n.env,f=n.headingClassName,h=n.summaryClassName,y=n.confirmationClassName,g=n.buttonClassName,x=n.loadingSpinnerClassName,k=n.containerClassName,P=n.modalProps,S=n.lireProps,j=n.showConfirmationMessage,N=n.showAlreadySubscribedMessage,E=n.shouldReturnFocus,M=n.type,I=this.state,_=I.isOpen,R=I.view,T=I.isLoading,D=I.appearedInViewport,A=I.validProductCode,L="oakArticle"===M,q={handleLoggedInButtonClick:function(){return t.handleLoggedInButtonClick()},handleNewsletterSignup:function(){return t.handleNewsletterSignup()},handleAnonymousNewsletterSignup:function(e,n){return t.handleAnonymousNewsletterSignup(e,n)},handleClose:function(){return t.handleClose()},handleModalButtonClick:function(){return t.handleModalButtonClick()}},W=L?C.default:w.default,B=r;return d.default.createElement(m.default,{onChange:function(e){return t.onVisibilityChange(e)},active:!D},d.default.createElement("div",{className:(0,p.cx)((e={},(0,o.default)(e,b.containerClass,!L),(0,o.default)(e,O.oakContainerClass,L),e),k)},d.default.createElement("div",{id:B,ref:this.wrapperRef||this.setWrapper}),d.default.createElement(v.EmailSignupProvider,{value:{productCode:r,heading:a,summary:i,buttonText:l,confirmationMessage:s,alreadySubscribedMessage:u,env:c,headingClassName:f,summaryClassName:h,confirmationClassName:y,buttonClassName:g,loadingSpinnerClassName:x,modalProps:P,lireProps:S,showConfirmationMessage:j,showAlreadySubscribedMessage:N,shouldReturnFocus:E}},d.default.createElement(W,{state:{isOpen:_,view:R,isLoading:T,validProductCode:A},handlers:q}))))}}]),n}(d.Component);j.displayName="EmailSignup",j.defaultProps={productCode:null,type:"inline",env:"production",buttonText:"Sign Up",confirmationMessage:"Thank you for signing up.",alreadySubscribedMessage:"You are already subscribed!",showAlreadySubscribedMessage:!1,showConfirmationMessage:!0,disableUserQuery:!1,enableAutoSubscribe:!1,shouldReturnFocus:!1,heading:null,summary:null,containerClassName:"",headingClassName:"",summaryClassName:"",confirmationClassName:"",buttonClassName:"",loadingSpinnerClassName:"",onLoading:function(){},onIsSubscribed:function(){},onIsNotSubscribed:function(){},onSuccess:function(){},onClick:function(){},modalProps:{closeIconStroke:"#555",headerText:"",headerTextClassName:"",overlayClassName:"",modalClassName:"",dismissClassName:""},lireProps:{host:"",lireClassName:"",onViewChanged:function(){},params:{client_id:"shared-ui",asset:"shared-ui",response_type:"cookie",application:"shared-ui"}},trackingProps:{placement:null,algos:{}},disableBaseTracking:!1,subscriptionQueryOptions:{}};var N=j;t.default=N},Rpmi:function(e,t,n){"use strict";var r=n("TqRt"),a=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("q1tI")),i=n("Jqp9"),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n("aY7P")),s=n("pLua");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}var c=function(){var e=(0,s.useEmailSignupContext)(),t=e.confirmationMessage,n=e.confirmationClassName;return o.default.createElement("span",{className:(0,i.cx)(l.confirmationClass,n)},t," We have other newsletters you may enjoy."," ",o.default.createElement("a",{href:"/newsletters"},"Take a look"),".")};c.displayName="Confirmation";var d=c;t.default=d},TtBt:function(e,t,n){"use strict";var r=n("TqRt"),a=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("q1tI")),i=r(n("17x9")),l=n("Jqp9"),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n("cyD4"));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}var c=o.default.memo((function(e){var t=e.loadingSpinnerClassName;return o.default.createElement("svg",{className:(0,l.cx)(s.loadingSpinnerClass,t),xmlns:"http://www.w3.org/2000/svg",alt:"Loading spinner icon",version:"1.1",width:"30px",height:"30px",viewBox:"-50 -50 100 100"},o.default.createElement("g",{stroke:"black",strokeWidth:"3.75",strokeLinecap:"round"},o.default.createElement("line",{x1:0,y1:-14,x2:0,y2:-30,opacity:"1"}),o.default.createElement("line",{x1:-8.229,y1:-11.33,x2:-17.63,y2:-24.27,opacity:"0.87"}),o.default.createElement("line",{x1:-13.31,y1:-4.326,x2:-28.53,y2:-9.271,opacity:"0.74"}),o.default.createElement("line",{x1:-13.31,y1:4.326,x2:-28.53,y2:9.271,opacity:"0.61"}),o.default.createElement("line",{x1:-8.23,y1:11.33,x2:-17.63,y2:24.27,opacity:"0.48"}),o.default.createElement("line",{x1:0,y1:14,x2:0,y2:30,opacity:"0.37"}),o.default.createElement("line",{x1:8.23,y1:11.33,x2:17.63,y2:24.27,opacity:"0.26"}),o.default.createElement("line",{x1:13.31,y1:4.33,x2:28.53,y2:9.27,opacity:"0.17"}),o.default.createElement("line",{x1:13.31,y1:-4.33,x2:28.53,y2:-9.27,opacity:"0.09"}),o.default.createElement("line",{x1:8.23,y1:-11.33,x2:17.63,y2:-24.27,opacity:"0.02"})))}));c.propTypes={loadingSpinnerClassName:i.default.string},c.defaultProps={loadingSpinnerClassName:void 0};var d=c;t.default=d},WkTM:function(e,t,n){"use strict";var r=n("TqRt"),a=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("lwsE")),i=r(n("W8MJ")),l=r(n("7W2i")),s=r(n("a1gu")),u=r(n("Nsbk")),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n("q1tI")),d=r(n("17x9")),f=r(n("PxMw")),p=r(n("dse6")),m=r(n("kcjh")),v=n("pLua"),h=n("tFte"),y=n("bEF1");function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var a=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}d.default.func,d.default.bool;var w={production:"https://myaccount.nytimes.com",staging:"https://myaccount.stg.nytimes.com"},C=function(e){(0,l.default)(n,e);var t=b(n);function n(){var e;(0,o.default)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={email:null},e.wrapperRef=c.default.createRef?c.default.createRef():null,e.setCaptchaRef=function(t){e.captcha=t},e.captchaCallback=function(t){var n=e.props.handleAnonymousNewsletterSignup,r=e.state,a=r.email,o=r.grecaptchaId;n(t,a),(0,h.resetReCaptcha)(o)},e.captchaErrorCallback=function(){console.error("captcha error")},e}return(0,i.default)(n,[{key:"componentDidMount",value:function(){this.wrapperRef&&(this.wrapper=this.wrapperRef.current),(0,h.loadReCaptchaScript)()}},{key:"renderReCaptcha",value:function(e){try{var t=(0,h.renderReCaptcha)(e,this.wrapper,this.captchaCallback,this.captchaErrorCallback);(0,h.executeReCaptcha)(t),this.setState({grecaptchaId:t})}catch(e){this.captchaErrorCallback()}}},{key:"onSuccess",value:function(e,t){var n=t.props.email,r=this.props.handleNewsletterSignup;(0,y.hasNYTSCookie)()?r():(this.renderReCaptcha(e),this.setState({email:n}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.validProductCode,r=t.hideHeading,a=this.context,o=a.productCode,i=a.env,l=a.buttonClassName,s=a.buttonText,u=a.lireProps,d=u.host,v=u.lireClassName,h=u.onViewChanged,y=u.params;return n?c.default.createElement(c.default.Fragment,null,c.default.createElement("div",{id:o,ref:this.wrapperRef||this.setWrapper}),!r&&c.default.createElement(m.default,null),c.default.createElement(p.default,{onSuccess:function(t){return e.onSuccess(i,t)},onError:function(e){console.error(e)},fallbackButtonText:"Sign Up",onViewChanged:h,env:i,host:d||w[i],params:y,initialHeight:140,className:v})):c.default.createElement(f.default,{href:"/newsletters",type:"button",theme:"primary",className:l},s)}}]),n}(c.Component);C.contextType=v.EmailSignupContext,C.displayName="LoggedOut",C.defaultProps={hideHeading:!1};var O=C;t.default=O},"XjL+":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n("q1tI")),o=r(n("17x9")),i=r(n("PxMw")),l=r(n("tSrK")),s=n("pLua"),u=r(n("kcjh")),c=(o.default.func,o.default.bool,function(e){var t=e.isOpen,n=e.handleClose,r=e.handleNewsletterSignup,o=e.handleAnonymousNewsletterSignup,c=e.buttonClick,d=e.validProductCode,f=(0,s.useEmailSignupContext)(),p=f.buttonText,m=f.buttonClassName;return a.default.createElement(a.default.Fragment,null,a.default.createElement(u.default,null),a.default.createElement(i.default,{type:"button",theme:"primary",className:m,onClick:c},p),a.default.createElement(l.default,{validProductCode:d,isOpen:t,handleClose:n,handleNewsletterSignup:r,handleAnonymousNewsletterSignup:o}))});t.default=c},aY7P:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.fadeInActiveClass=t.fadeInClass=t.fadeOutDoneClass=t.fadeOutActiveClass=t.fadeOutVisibleClass=t.buttonClass=t.buttonActivatedClass=t.confirmationClass=t.summaryClass=t.headingClass=t.signupMessageClass=t.signupMessageContainerClass=t.signupContentContainerClass=t.signupContainerClass=t.oakContainerClass=void 0;var a=n("Jqp9"),o=r(n("3Rk2")),i=r(n("wXC7")),l=(0,o.default)(["@media (min-width: 480px)",i.default.breakpoint.small]),s="\n  @media (prefers-reduced-motion: reduce) {\n    animation: none;\n    opacity: 1;\n    transform: none;\n  }\n",u=(0,a.css)("text-align:center;font-family:",i.default.font.serifBase,";font-size:",i.default.font.size(17),";line-height:",i.default.font.size(24),";");t.oakContainerClass=u;var c=(0,a.css)("position:relative;display:flex;overflow:hidden;box-sizing:border-box;padding-top:",i.default.font.size(12),";border-top:1px solid ",i.default.color.gray60,";color:",i.default.color.gray20,";max-width:600px;margin:",i.default.font.size(25)," auto ",i.default.font.size(15),";font-style:italic;");t.signupContainerClass=c;var d=(0,a.css)("display:flex;flex-grow:1;justify-content:space-between;align-items:flex-start;padding-right:3px;");t.signupContentContainerClass=d;var f=(0,a.css)("display:flex;align-items:center;height:100%;");t.signupMessageContainerClass=f;var p=(0,a.css)("max-width:500px;text-align:left;",l({marginRight:["10px",null,"20px"]}));t.signupMessageClass=p;var m=(0,a.css)("display:inline;margin:0;font-size:",i.default.font.size(14),";font-weight:",i.default.font.weight.bold,";font-family:",i.default.font.franklinBase,";font-style:normal;line-height:",i.default.font.size(18),";letter-spacing:0.03rem;text-transform:uppercase;");t.headingClass=m;var v=(0,a.css)("margin:0;");t.summaryClass=v;var h=(0,a.css)("text-align:left;padding-bottom:",i.default.font.size(10),";a{color:",i.default.color.linkColor,";text-decoration:underline;&:hover{text-decoration:none;}}");t.confirmationClass=h;var y=(0,a.css)("color:",i.default.color.white,";background-color:",i.default.color.gray30,";");t.buttonActivatedClass=y;var g=(0,a.css)("display:block;margin-top:4px;background:",i.default.color.white,";border:1px solid ",i.default.color.black,";border-radius:2px;color:",i.default.color.black,";font-family:",i.default.font.franklinBase,";font-style:normal;font-weight:",i.default.font.weight.bold,";height:auto;line-height:",i.default.font.size(20),";white-space:nowrap;letter-spacing:0.02em;cursor:pointer;text-transform:none;text-decoration:none;text-align:center;box-sizing:border-box;transition:background-color 0.4s,color 0.4s;",l({fontSize:[i.default.font.size(14),null,i.default.font.size(15)],padding:["6px 10px 4px",null,"6px 12px 4px"]})," &:hover{color:",i.default.color.white,";background-color:",i.default.color.black,";}&:active{",y,"}");t.buttonClass=g;var b=(0,a.css)("position:relative;opacity:1;transform:translate3d(0,0,0);");t.fadeOutVisibleClass=b;var w=(0,a.css)("width:100%;opacity:0;transition:opacity 400ms;animation:400ms ",(0,a.keyframes)("0%{transform:translate3d(0,0,0);}100%{transform:translate3d(-100%,0,0);}"),";",s);t.fadeOutActiveClass=w;var C=(0,a.css)("opacity:0;display:none;");t.fadeOutDoneClass=C;var O=(0,a.css)("opacity:0;transform:translate3d(100%,0,0);backface-visibility:hidden;");t.fadeInClass=O;var x=(0,a.css)("opacity:1;transition:opacity 400ms;animation:400ms ",(0,a.keyframes)("0%{transform:translate3d(100%,0,0);}100%{transform:translate3d(0,0,0);}"),";",s," backface-visibility:hidden;");t.fadeInActiveClass=x},aanX:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=r(n("q1tI")),o=(r(n("17x9")),r(n("wXC7")));function i(e){var t=e.className,n=e.stroke,r=e.strokeWidth;return a.default.createElement("svg",{className:t,viewBox:"0 0 12 12",stroke:n,strokeWidth:r,strokeLinecap:"round",style:{opacity:.95}},a.default.createElement("line",{x1:"11",y1:"1",x2:"1",y2:"11"}),a.default.createElement("line",{x1:"1",y1:"1",x2:"11",y2:"11"}))}i.displayName="CloseIcon",i.defaultProps={className:void 0,stroke:o.default.color.black,strokeWidth:"1"}},bEF1:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNYTDomain=function(e){return/nytimes\.com$/.test(e)},t.hasNYTSCookie=a,t.getCookie=o,t.handleAutoSubscribe=function(e,t,n,r){try{var o=new URL(window.location).searchParams;if(!("true"===o.get("newsletter_signup")))return;var l=a();if(!i(e,o))return;l&&n(),l||"modal"!==t||r()}catch(e){console.error("Unable to auto subscribe user")}},t.checkToSubscribeRedirectedUser=function(e,t,n,a,l){try{var s=new URL(window.location).searchParams,u=s.get("auth");if(!i(n,s))return;u&&u.includes("register-")&&a(),"validate-regi"===u&&function(e,t,n){(0,r.loadReCaptchaScript)((function(){window.isCaptchaLoaded=!0;try{var a;a=(0,r.renderReCaptcha)(e,t,(function(e){var t=o("nyt-newsletter-email");t?(n(e,t),(0,r.resetReCaptcha)(a)):console.error("Unable to find user email")}),(function(){console.error("Captcha error")})),(0,r.executeReCaptcha)(a)}catch(e){console.error("Captcha has not loaded")}}))}(e,t,l)}catch(e){console.error("Unable to subscribe the user")}},t.getLoggedOutView=l,t.getViewFromUser=function(e){var t,n,r,a=e.data,o=e.productCode,i=e.onIsSubscribed,s=e.onIsNotSubscribed,u=e.type,c=null==a||null===(t=a.user)||void 0===t?void 0:t.profile,d=(null==a||null===(n=a.user)||void 0===n||null===(r=n.newsletterSubscriptions)||void 0===r?void 0:r.newsletterCodes)||[];if(c)return d.includes(o)?(i&&i(),"alreadySubscribed"):(s&&s(),"loggedIn");s&&s();return l(u)},t.isValidNewsletterCode=void 0;var r=n("tFte");function a(){return"undefined"!=typeof window&&-1!==document.cookie.indexOf("NYT-S")}function o(e){var t="; ".concat(document.cookie).split("; ".concat(e,"="));return 2===t.length?t.pop().split(";").shift():null}function i(e,t){var n=decodeURIComponent(t.get("product_code"));return!!n&&e===n}function l(e){return"modal"===e?"loggedOutModal":"loggedOut"}t.isValidNewsletterCode=function(e){var t=/^[A-Z]{2,4}$/;return Array.isArray(e)&&e.length>0?e.filter((function(e){return t.test(e)})).length>0:t.test(e)}},cyD4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadingSpinnerClass=t.spinner=void 0;var r=n("Jqp9"),a=(0,r.keyframes)("100%{transform:rotate(360deg);transform-origin:center;}");t.spinner=a;var o=(0,r.css)("margin:0 auto;display:inherit;opacity:1;width:30px;animation:",a," 0.8s steps(10,end) infinite;");t.loadingSpinnerClass=o},dse6:function(e,t,n){"use strict";var r=n("TqRt"),a=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("lSNA")),i=r(n("QILm")),l=r(n("lwsE")),s=r(n("W8MJ")),u=r(n("PJYZ")),c=r(n("7W2i")),d=r(n("a1gu")),f=r(n("Nsbk")),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n("q1tI")),m=(r(n("17x9")),n("tYBg")),v=r(n("gw4K")),h=n("whae"),y=n("pLua"),g=n("2tVM"),b=["params"];function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,f.default)(e);if(t){var a=(0,f.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,d.default)(this,n)}}var k=function(e){(0,c.default)(n,e);var t=x(n);function n(e){var r;(0,l.default)(this,n),(r=t.call(this,e)).state={iframeLoadFailed:!1};var a=Math.ceil(1e6*Math.random());return r.containerId="newsletter-iframe-container-".concat(a),r.formId="newsletter-form-".concat(a),r.host=(0,m.getOrigin)(e.host,e.env),r.handleIframeLoadFailure=r.handleIframeLoadFailure.bind((0,u.default)(r)),window.LireUI=window.LireUI||[],r}return(0,s.default)(n,[{key:"componentDidMount",value:function(){var e=window.location.href,t=this.props,n=t.params,r=(0,i.default)(t,b),a={redirect_uri:e},o=O(O({},n),a);if(this.setState({params:o}),!window.LireUILoaded){var l,s,u={src:"".concat(this.host,"/unified_lire/js/standalone-client.bundle.js"),scriptLoaded:"LireUILoaded",form_id:this.formId,handleIframeLoadFailure:this.handleIframeLoadFailure,clientId:(null===(l=this.props.params)||void 0===l?void 0:l.client_id)||null,campaignId:(null===(s=this.props.params)||void 0===s?void 0:s.campaign_id)||null};(0,m.loadScript)(u)}window.LireUI.push(O(O({hostName:this.host,form_id:this.formId,container:"#".concat(this.containerId),params:o},r),{},{type:"validate-regi"}))}},{key:"handleIframeLoadFailure",value:function(e){var t=e.clientId,n=e.campaignId;this.setState({iframeLoadFailed:!0}),(0,h.trackIframeLoadFailure)({clientId:t,campaignId:n})}},{key:"render",value:function(){var e=this.state,t=e.iframeLoadFailed,n=e.params,r=this.props.fallbackButtonText,a=this.context.productCode;return p.default.createElement("div",{id:this.containerId,name:"newsletter-iframe",style:{minHeight:this.props.initialHeight}},t&&p.default.createElement(v.default,{href:(0,g.formatSrc)({host:this.host,params:n,productCode:a})},r))}}]),n}(p.Component);k.contextType=y.EmailSignupContext,k.displayName="ValidateRegistration",k.defaultProps={fallbackButtonText:"Sign up",id:null,className:void 0,params:{client_id:"shared-ui"},env:"production",host:"",initialHeight:420};var P=k;t.default=P},"fk7+":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n("q1tI")),o=n("Jqp9"),i=n("aY7P"),l=n("pLua"),s=function(){var e=(0,l.useEmailSignupContext)(),t=e.heading,n=e.summary,r=e.headingClassName,s=e.summaryClassName;return a.default.createElement("div",{className:i.signupMessageContainerClass},a.default.createElement("div",{className:i.signupMessageClass},t&&a.default.createElement("span",{className:(0,o.cx)(i.headingClass,r)},t,": "),n&&a.default.createElement("span",{className:(0,o.cx)(i.summaryClass,s)},n)))};s.displayName="Heading";var u=s;t.default=u},fmmm:function(e,t,n){"use strict";var r=n("TqRt"),a=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("lSNA")),i=r(n("J4zp")),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n("q1tI")),s=r(n("17x9")),u=n("Jqp9"),c=r(n("tSrK")),d=n("pLua"),f=r(n("J8sp")),p=r(n("fk7+")),m=r(n("Rpmi")),v=n("aY7P");function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}s.default.shape,s.default.string,s.default.bool,s.default.func;var y=/loggedIn|loggedOut|confirmation/,g=function(e){var t=e.state,n=t.isOpen,r=t.validProductCode,a=t.view,s=e.handlers,h=s.handleClose,g=s.handleNewsletterSignup,b=s.handleAnonymousNewsletterSignup,w=s.handleModalButtonClick,C=(0,l.useState)(!1),O=(0,i.default)(C,2),x=O[0],k=O[1],P=(0,l.useState)(!1),S=(0,i.default)(P,2),j=S[0],N=S[1],E=(0,d.useEmailSignupContext)().buttonText,M=y.test(a),I=function(){j||(N(!0),g())},_=function(){if(!M)return null;if(!x){var e="loggedIn"===a?I:w;return l.default.createElement(f.default,{exitDuration:400,visible:"loggedOut"===a||"loggedIn"===a,onExited:function(){return k(!0)}},(function(t){var i=t.exiting;return l.default.createElement("div",{className:(0,u.cx)(v.signupContentContainerClass,(0,o.default)({},v.fadeOutActiveClass,i))},l.default.createElement(p.default,null),l.default.createElement("button",{type:"button",className:(0,u.cx)(v.buttonClass,(0,o.default)({},v.buttonActivatedClass,j)),onClick:e},E),"loggedOut"===a&&l.default.createElement(c.default,{validProductCode:r,isOpen:n,handleClose:h,handleNewsletterSignup:g,handleAnonymousNewsletterSignup:b}))}))}return l.default.createElement(f.default,{enterDuration:500,visible:"confirmation"===a&&x},(function(e){var t=e.entering;return l.default.createElement("div",{className:(0,u.cx)(v.signupContentContainerClass,(0,o.default)({},v.fadeInActiveClass,t))},l.default.createElement(m.default,null))}))}();return M?l.default.createElement("div",{className:v.signupContainerClass},_):null};t.default=g},gw4K:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n("Jqp9"),o=r(n("wXC7")),i=(0,a.styled)("a",{target:"e1ydmf1w0"})("display:block;background-color:",(function(e){return e.color||"#333"}),";border-radius:3px;text-align:center;font-family:",o.default.font.franklinBase,";font-weight:",o.default.font.weight.bold,";font-size:1em;line-height:2.5em;height:2.5em;color:white;width:8em;margin:0 auto;");t.default=i},kcjh:function(e,t,n){"use strict";var r=n("TqRt"),a=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("q1tI")),i=n("Jqp9"),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n("qQ7Q")),s=n("pLua");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}var c=function(){var e=(0,s.useEmailSignupContext)(),t=e.heading,n=e.summary,r=e.headingClassName,a=e.summaryClassName;return o.default.createElement(o.default.Fragment,null,t&&o.default.createElement("span",{className:(0,i.cx)(l.headingClass,r)},t,": "),n&&o.default.createElement("span",{className:(0,i.cx)(l.summaryClass,a)},n))};t.default=c},"n2O/":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n("q1tI")),o=r(n("17x9")),i=r(n("PxMw")),l=r(n("kcjh")),s=r(n("TtBt")),u=n("pLua"),c=(o.default.func,o.default.bool,function(e){var t=e.isLoading,n=e.buttonClick,r=(0,u.useEmailSignupContext)(),o=r.buttonText,c=r.buttonClassName,d=r.loadingSpinnerClassName;return a.default.createElement(a.default.Fragment,null,a.default.createElement(l.default,null),t?a.default.createElement(s.default,{loadingSpinnerClassName:d}):a.default.createElement(i.default,{type:"button",theme:"primary",className:c,onClick:n},o))});t.default=c},pLua:function(e,t,n){"use strict";var r=n("TqRt"),a=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.EmailSignupProvider=t.useEmailSignupContext=t.EmailSignupContext=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n("q1tI")),i=r(n("17x9"));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}i.default.shape,i.default.node;var s=o.default.createContext({});t.EmailSignupContext=s;t.useEmailSignupContext=function(){return(0,o.useContext)(s)};var u=function(e){var t=e.value,n=e.children;return o.default.createElement(s.Provider,{value:t},n)};t.EmailSignupProvider=u,u.displayName="EmailSignupProvider"},qQ7Q:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.summaryClass=t.headingClass=t.confirmationClass=t.buttonClass=t.containerClass=void 0;var a=n("Jqp9"),o=r(n("wXC7")),i=r(n("qp0C")),l=r(n("5TEd")),s=(0,a.css)("text-align:center;font-family:",i.default.serifBase,";font-size:",i.default.size(17),";line-height:24px;",o.default.breakpoint.small,"{font-size:",i.default.size(18),";line-height:29px;}");t.containerClass=s;var u=(0,a.css)("display:block;margin:20px auto 0 auto;");t.buttonClass=u;var c=(0,a.css)("font-style:italic;a{color:",l.default.linkColor,";text-decoration:underline;}");t.confirmationClass=c;var d=(0,a.css)("font-weight:bold;");t.headingClass=d;var f=(0,a.css)("font-style:italic;");t.summaryClass=f},sj7d:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.dismissIconClass=t.dismissClass=t.modalClass=t.overlayClass=t.bodyOpenClass=void 0;var a=n("Jqp9"),o=r(n("wXC7")),i=(0,a.css)("position:fixed;width:100%;overflow:hidden;");t.bodyOpenClass=i;var l=(0,a.css)("display:block;position:fixed;box-sizing:border-box;top:0;right:0;bottom:0;left:0;width:100%;height:100%;z-index:",o.default.zIndex.overlay,";background-color:rgba(0,0,0,0.5);opacity:1;");t.overlayClass=l;var s=(0,a.css)("position:fixed;top:0;left:0;right:0;bottom:0;overflow:auto;width:100%;box-shadow:none;border-radius:0;background-color:",o.default.color.white,";font-family:",o.default.font.franklinBase,";-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;color:",o.default.color.black,";z-index:",o.default.zIndex.interstitialModal,";",o.default.breakpoint.small,"{width:450px;left:50%;top:50%;right:unset;bottom:unset;transform:translate(-50%,-50%);margin:0 auto;overflow:unset;position:absolute;border-radius:3px;box-shadow:0 0 8px rgba(0,0,0,0.2);}");t.modalClass=s;var u=(0,a.css)("position:absolute;top:1px;right:0;padding:16px;cursor:pointer;background-color:",o.default.color.white,";");t.dismissClass=u;var c=(0,a.css)("display:block;width:15px;height:15px;");t.dismissIconClass=c},tFte:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.resetReCaptcha=t.executeReCaptcha=t.renderReCaptcha=t.loadReCaptchaScript=void 0;var a=r(n("M4W2")),o="https://www.google.com/recaptcha/api.js?onload=".concat("BFX6JY","&render=explicit");function i(e){var t,n,r,a;return null!==(t=window)&&void 0!==t&&null!==(n=t.vi)&&void 0!==n&&n.env?null===(r=window)||void 0===r||null===(a=r.vi)||void 0===a?void 0:a.env.RECAPTCHA_SITEKEY:"production"===e?"6LevSGcUAAAAAF-7fVZF05VTRiXvBDAY4vBSPaTF":"6LfW9GcUAAAAAKLqQzehfTHHdWrtQf2UcRBOgA-J"}function l(){window.isCaptchaLoaded=!0}t.loadReCaptchaScript=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l;window.BFX6JY||(window.BFX6JY=e,(0,a.default)(o))};t.renderReCaptcha=function(e,t,n,r){var a,o,l;if(null!==(a=window)&&void 0!==a&&a.isCaptchaLoaded)return null===(o=window)||void 0===o||null===(l=o.grecaptcha)||void 0===l?void 0:l.render(t,{sitekey:i(e),callback:n,"error-callback":r,size:"invisible",isolated:!0,badge:"none"});throw new Error("Captcha has not loaded")};t.executeReCaptcha=function(e){var t,n;return null===(t=window)||void 0===t||null===(n=t.grecaptcha)||void 0===n?void 0:n.execute(e)};t.resetReCaptcha=function(e){var t,n;return null===(t=window)||void 0===t||null===(n=t.grecaptcha)||void 0===n?void 0:n.reset(e)}},tSrK:function(e,t,n){"use strict";var r=n("TqRt"),a=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("q1tI")),i=r(n("17x9")),l=n("Jqp9"),s=r(n("5ugd")),u=r(n("WkTM")),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n("KgTy")),d=n("pLua");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}i.default.func,i.default.bool;var p=function(e){var t=e.isOpen,n=e.handleClose,r=e.handleNewsletterSignup,a=e.handleAnonymousNewsletterSignup,i=e.validProductCode,f=(0,d.useEmailSignupContext)().modalProps,p=f.overlayClassName,m=f.modalClassName,v=f.dismissClassName,h=f.closeIconStroke,y=f.headerTextClassName,g=f.headerText;return o.default.createElement(s.default,{isOpen:t,handleClose:n,overlayClassName:(0,l.cx)(c.overlayClass,p),className:(0,l.cx)(c.modalClass,m),dismissClassName:(0,l.cx)(c.dismissClass,v),contentLabel:"Log in and Registration",role:"dialog",closeIconStroke:h,shouldFocusAfterRender:!0,shouldReturnFocusAfterClose:!0,shouldCloseOnOverlayClick:!0,shouldCloseOnEsc:!0},o.default.createElement("span",{className:(0,l.cx)(c.summaryClass,y)},g||"Enter your information to receive this newsletter."),o.default.createElement(u.default,{hideHeading:!0,validProductCode:i,handleNewsletterSignup:r,handleAnonymousNewsletterSignup:a}))};p.displayName="ValidateRegistrationModal";var m=p;t.default=m},v6H6:function(e,t,n){"use strict";var r=n("TqRt"),a=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i,l=r(n("cDf5")),s=r(n("q1tI")),u=n("Jqp9"),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n("qQ7Q")),d=n("pLua");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}var p="object"===("undefined"==typeof window?"undefined":(0,l.default)(window))&&null!==(o=window.vi)&&void 0!==o&&null!==(i=o.env)&&void 0!==i&&i.AUTH_HOST?window.vi.env.AUTH_HOST:"https://myaccount.nytimes.com",m=function(){var e=(0,d.useEmailSignupContext)(),t=e.confirmationMessage,n=e.confirmationClassName;return s.default.createElement("span",{className:(0,u.cx)(c.confirmationClass,n)},t," ",s.default.createElement("a",{href:"/newsletters"},"See our other newsletters")," or"," ",s.default.createElement("a",{href:"".concat(p,"/seg/settings")},"manage your email preferences."))};m.displayName="Confirmation";var v=m;t.default=v},"vAq/":function(e,t,n){"use strict";var r=n("TqRt"),a=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("q1tI")),i=n("Jqp9"),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n("qQ7Q")),s=n("pLua");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}var c=function(){var e=(0,s.useEmailSignupContext)(),t=e.alreadySubscribedMessage,n=e.confirmationClassName;return o.default.createElement("span",{className:(0,i.cx)(l.confirmationClass,n)},t," ",o.default.createElement("a",{href:"/newsletters"},"See our other newsletters."))};c.displayName="AlreadySubscribed";var d=c;t.default=d},"w6U+":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.enableBodyScroll=t.clearAllBodyScrollLocks=t.disableBodyScroll=void 0;var a=r(n("RIqP")),o=!1;if("undefined"!=typeof window){var i={get passive(){o=!0}};window.addEventListener("testPassive",null,i),window.removeEventListener("testPassive",null,i)}var l,s,u="undefined"!=typeof window&&window.navigator&&window.navigator.platform&&/iP(ad|hone|od)/.test(window.navigator.platform),c=[],d=!1,f=-1,p=function(e){return c.some((function(t){return!(!t.options.allowTouchMove||!t.options.allowTouchMove(e))}))},m=function(e){var t=e||window.event;return!!p(t.target)||(t.touches.length>1||(t.preventDefault&&t.preventDefault(),!1))},v=function(){setTimeout((function(){void 0!==s&&(document.body.style.paddingRight=s,s=void 0),void 0!==l&&(document.body.style.overflow=l,l=void 0)}))};t.disableBodyScroll=function(e,t){if(u){if(!e)return void console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");if(e&&!c.some((function(t){return t.targetElement===e}))){var n={targetElement:e,options:t||{}};c=[].concat((0,a.default)(c),[n]),e.ontouchstart=function(e){1===e.targetTouches.length&&(f=e.targetTouches[0].clientY)},e.ontouchmove=function(t){1===t.targetTouches.length&&function(e,t){var n=e.targetTouches[0].clientY-f;!p(e.target)&&(0===(null==t?void 0:t.scrollTop)&&n>0||function(e){return!!e&&e.scrollHeight-e.scrollTop<=e.clientHeight}(t)&&n<0?m(e):e.stopPropagation())}(t,e)},d||(document.addEventListener("touchmove",m,o?{passive:!1}:void 0),d=!0)}}else{!function(e){setTimeout((function(){if(void 0===s){var t=!0==!(null==e||!e.reserveScrollBarGap),n=window.innerWidth-document.documentElement.clientWidth;t&&n>0&&(s=document.body.style.paddingRight,document.body.style.paddingRight="".concat(n,"px"))}void 0===l&&(l=document.body.style.overflow,document.body.style.overflow="hidden")}))}(t);var r={targetElement:e,options:t||{}};c=[].concat((0,a.default)(c),[r])}};t.clearAllBodyScrollLocks=function(){u?(c.forEach((function(e){e.targetElement.ontouchstart=null,e.targetElement.ontouchmove=null})),d&&(document.removeEventListener("touchmove",m,o?{passive:!1}:void 0),d=!1),c=[],f=-1):(v(),c=[])};t.enableBodyScroll=function(e){if(u){if(!e)return void console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");e.ontouchstart=null,e.ontouchmove=null,c=c.filter((function(t){return t.targetElement!==e})),d&&0===c.length&&(document.removeEventListener("touchmove",m,o?{passive:!1}:void 0),d=!1)}else 1===c.length&&c[0].targetElement===e?(v(),c=[]):c=c.filter((function(t){return t.targetElement!==e}))}},whae:function(e,t,n){"use strict";function r(e){try{(window.dataLayer=window.dataLayer||[]).push(e)}catch(e){}}Object.defineProperty(t,"__esModule",{value:!0}),t.trackIframeLoadFailure=t.trackInvalidNewsletterCode=t.trackSubscribe=t.trackImpression=void 0;t.trackImpression=function(e){var t=e.clientId,n=e.campaignId,a=e.productCode;r({event:"impression",module:{name:"newsletter",context:t,label:e.placement||n,region:"body|marginalia",algos:e.algos,element:{name:a}},newsletter:{product:a,productName:"Newsletter Lire"}})};t.trackSubscribe=function(e){var t=e.clientId,n=e.campaignId,a=e.productCode;r({event:"moduleInteraction",eventData:{pagetype:"article",trigger:"module",type:"click",status:"success"},module:{name:"newsletters",context:t,label:e.placement||n,region:"body|marginalia",algos:e.algos,element:{name:"subscribe",label:""}},newsletter:{product:a,productName:"Newsletter Lire"}})};t.trackInvalidNewsletterCode=function(e){r({event:"moduleInteraction",eventData:{type:"response",trigger:"module"},module:{name:"newsletter-shared-ui",label:e.clientId,context:e.campaignId,region:"embed",element:{name:"newsletter code invalid",label:e.productCode,url:""}}})};t.trackIframeLoadFailure=function(e){r({event:"moduleInteraction",eventData:{type:"response",trigger:"module"},module:{name:"newsletter-shared-ui",label:e.clientId,context:e.campaignId,region:"embed",element:{name:"newsletter iframe load failure",label:"15 second timeout exceeded",url:""}}})}}}]);
//# sourceMappingURL=vendors~emailsignup~newsletter~newsletters~recirculation-f5100e32402a844d6d55.js.map